\section{Controlerkomponente VCM-Wrapper}
\subsection{Zusammenfassung}
Der VCM-Wrapper spiegelt der Eclipse-Plattform ein vollfunktionsfähiges Team-
Plugin vor, über das alle Repositoryoperationen durchgeführt werden. Intern
gibt die Komponente die Aktionen jedoch an andere Team-Plugins weiter. Vor und
nach jeder dieser Aktion wird die Kommunikations-Komponente konsultiert, um 
den Server bzw. andere Clients über Veränderungen am Repository zu 
informieren. Die VCM-Wrapper-Komponente kennt sowohl die Datei-Ebene und deren
Repositories als auch die Abstraktion auf Produktlinien/Komponenten/Varianten.
Für beide Ebenen lassen sich atomare (z.B. checkin) und komplexe VCM-
Aktionen () ausführen. Die nötigen Informationen über 
Repository-Positionen und Struktur bezieht der VCM-Wrapper über die Server-
Kommunikations-Komponente sowie das Architekturmodel.

%\includegraphics[width=15cm]{client.jpg}

\subsection{Manueller Import der Einstellungen}
Der Client stöß die Delegater-Schicht an. Als positives Ergebnis sind
alle Konfigurationsdaten in Eclipse gespeichert. 
\par 
Durch diese Konfigurationsdaten kann Eclipse entscheiden welche
Repositories, zugehörige Rollen und Zugriffsrechte benutzt werden
müssen.
Dadurch können in Eclipse durch die erhaltenen Rollen und
Repository-Daten die vordefinierten Felder zum Zugriff auf
VCM-Repositories entsprechend gesetzt werden. Hierdurch wird eine
optimale Anbindung an bereits existierende Eclipse-Strukturen
geschaffen. 

\subsection{Automatischer Import der Einstellungen}
Falls der Benutzer das erste Mal Eclipse startet, d.h. noch keine
Konfigurationsdaten zu Rollen und Repositories vorliegen, wird die
delegater-Schicht automatisch angestoßen, und die Konfigurationsdaten
vom Server geladen und in Eclipsae gepeichert, wie im manuellen
Import näher beschrieben.

\subsection{Ablaufschritte beim Zugriff auf das Repository}

Die Ablaufschritte:\par

\begin{itemize}
    \item Lade Konfigurationsdaten vom Server (fetch)
    \item Extrahiere Rollenzuteilung, Repository-Daten
    \item Lokale Prüfung auf vorhandenes Produkt, d.h. Produktdaten, Benutzerdaten (check)
    \item Prüfungsergebnisse führen bei nicht vorhandenem Produkt zu
    öffnendem Dialog und anschließender Lade-Aktion (checkout) aus dem
    Repository
\end{itemize}\par

\subsection{Mögliche Wrapper-Aktionen}

Alle möglichen Wrapper-Aktionen lassen sich in zwei verschiedene
Gruppen einteilen. Aktionen die keine Berechtigung erfordern, d.h. für
alle Benutzer möglich sind und Aktionen die eine Berechtigung
erfordern, d.h. nur für bestimmte möglich sind.\par

Die sichtbaren Aktionen:\par

\bf Alle Benutzer:
\begin{itemize}
  \item check out: immer möglich, ggf. nur Leserechte.
  \item update: Vorbedingung: check out
\end{itemize}

\bf Nur bestimmte Benutzer:

\begin{itemize}
  \item commit: Vorbedingung: check out
  \item import: in der ersten Iteration nicht möglich!
  \item delete: -
  \item add: -
\end{itemize}

Falls eine Aktion der zweiten Gruppe nicht erfolgreich ausgeführt
werden kann, entweder weil der Client feststellt dass der Benutzer
nicht die passende Rolle besitzt, d.h. eine unerlaubte Aktion
angestoßen wurde oder weil der Repository-Server beim durchführen der
Aktion eine Fehlermeldung zurück gibt wird auf dem Server ein
passender Workflow der zu dem speziellen Feedback passt, angestossen.


\subsection{Skriptausführung}
Allen möglichen Wrapper-Aktionen kann zusätzlich eine bestimmte
Matainfo-Datei übergeben werden, das eine georndete Liste von Skripten
enthält, die vor und nach einem ``commit'' ausgeführt werden. Diese
möglichen Metainfo-Dateien werden an anderer Stelle festgelegt.

\subsection{Konsistenzcheck bei der Produktzusammenstellung}
Als Konsistenzcheck wird die Anfrage an die Datenbasis genannt, die
als Eingabeparameter die Revision oder den Autor einer bestimmten
Datei xy erhält und zurückgibt ob die Datei vorhanden (match=syncron)
ist (oder nicht) und ob die Revision übereinstimmt. Ggf. wird ein
passender Workflow angestoßen.\par
Zur Überprüfung des gesamten Produktes werden oben genannte Schritte
angewandt, wobei die Eingabemenge aus Dateinamen und deren Revisionen
besteht.

\subsection{der initial Metadaten-Abgleich}
Vorbedingung:...

\subsection{Einschränkungen bei der Implementierung}
