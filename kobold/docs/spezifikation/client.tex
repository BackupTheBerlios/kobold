\chapter{Funktionale Anforderungen der Iteration I}
In diesem und den folgenden Kapiteln werden die funktionalen
Anforderungen der jeweiligen Iteration beschrieben. Grundlage
der Spezifikation der funktionalen Anforderungen im Rahmen der
Spezifikation I ist
eine sehr abstrakte Beschreibung des \product Rahmensystems.\par
In den Folgeiterationen werden zum Kobold Client und Kobold
Serverdienst jeweils Use-Cases entwickelt, die die konkret
ermittelten und vor jeder Folge-Iteration priorisierten
Anforderungen (siehe Anforderungsdokument\footnote{
ftp://ftp.berlios.de/pub/kobold/docs/anforderungen/anforderungen.pdf}
) detailliert spezifizieren.

\section{Anforderungen an das Gesamtsystem}

Zur rollenabhängigen Verwaltung von Produkten und Produktlinien
und zur Etablierung eines Produktlinien-Entwicklungsprozesses ist
eine zentrale Schnittstelle zur Produktlinien-, Produkt- und
Benutzerspeicherung notwendig, die Rechte, Rollen,
Verpflichtungen und Nachrichten der Benutzer bereitstellt und
rechnerübergreifend verfügbar ist.\par Diese zentrale
Schnittstelle in Form des Kobold Serverdienstes wird HTTPS
basiert über Remote Procedure Calls von den Kobold Clients über
Anfrage- und Antwortmechanismen (Request-Response) angesprochen.\par
Das \product Gesamtsystem in Form von mehreren Eclipse basierten
Kobold-Client Instanzen und einem zentralen Kobold-Serverdienst
hängt von der schnittstellengetreuen Zusammenarbeit der
Clients mit dem Serverdienst, sowie der Netzwerkinfrastruktur
ab.\par Gegenstand der Spezifikation I ist somit, die Grundlage
für solide Teilkomponenten zu spezifizieren, die diesen
Anforderungen an das Gesamtsystem gerecht werden.
\newpage

%\subsection{Rollenprinzip}

%Zur Etablierung eines Produktlinien-Entwicklungsprozesses werden
%folgende Rollen von \product unterstützt:

%\begin{itemize}
%\item Produktlinieningenieur (PLE) 
%\item Produktingenieur (PE)
%\item Programmierer (P)
%\end{itemize}

%Die einzelnen Rollen sind im Begriffslexikon näher erläutert.\par
%Einem Benutzer des Kobold-Systems können mehrere dieser Rollen zugeteilt
%werden. Die Benutzer- und Rollenverwaltung wird durch den
%Kobold-Serverdienst gespeichert. Informationen zur genauen Persistierung
%können aus dem Kapitel zum Kobold-Serverdienst entnommen werden.
\newpage

\section{Kobold Client}
Der Client basiert grundlegend auf der Eclipse Plattform und deren
Standard Widgettoolkit (SWT) und ist dadurch von dessen nativer
Schnittstelle abhängig. Er wird als 'Feature-Set' für die
Eclipse-Entwicklungsumgebung implementiert und mit einem eigenem
'Product Branding' versehen. Das 'Product Branding' umfasst eine
eigene Eclipse-Perspektive mit eigenen Fensternamen und
Produktsymbolen, sowie einer Willkommensseite, die einen kurzen
Überblick über Funktionalität und Zweck von \product gibt.
\par
\begin{figure}[h!]
\includegraphics[width=15cm]{../angebot/screenshot.png}
   \caption{Screenshot des Client-Prototypen}
\end{figure}
Das 'Feature-Set' wird als Menge von internationalisierbaren Eclipse Plugins
implementiert. Die Ausgangsperspektive dieses Sets besteht aus folgenden
Komponenten:
\begin{itemize}
    \item Der Architektureditor
    \item Rollen View
    \item Worklflow/Task View
    \item Die Minimap
\end{itemize}
\subsection{Authentifizierung}
Um mit der Kobold-Perspektive in Eclipse zu arbeiten, ist eine
zentrale Authentifizierung am Kobold-Serverdienst nötig. Diese
wird RPC-basiert über eine SSL verschlüsselte Verbindung
realisiert.\par 

Der Benutzer muss sich beim Anlegen eines neuen Projektes beim
Kobold-Serverdienst authentifizieren, indem er seinen Benutzername
und Passwort eingibt.\par Auf eine erfolgreiche Authentifizierung
reagiert der Client mit der Synchronisation der Produktlinien-
bzw. Produkt-spezifischen Repositories und dem Bereitstellen der
daraufhin aktualisierten Views für den Benutzer.

\subsection{Der Architektureditor}
In diesem View wird die je nach Projekt relevante Ansicht
auf die Architektur der Produktlinie bzw. des Produkts angezeigt. Diese
Architekturansicht wird durch die GEF-basierte
Visualisierungsschicht des Architektureditors bereitgestellt,
welche komplexe Darstellungs- und Interaktionsalgorithmen zur
Visualisierung von Graphen anbietet.\par Der Editor bietet die
Möglichkeit, grundlegende Operationen durchzuführen, die für die
Verwaltung einer Produktlinienarchitektur nötig sind.\par

\subsubsection{Visualisierung von Architekturen}
Architekturen werden als Graphen dargestellt, die eine
Komposition von Knoten und gerichteten Kanten sind. Knoten
enthalten folgende Architekturelemente:

\begin{itemize}
\item Komponenten
\item Varianten
\item Versionen
\end{itemize}

Die Dateiebene wird hier bewusst ausgeblendet. Um die Dateien einer
Variante bzw. Version zu visualisieren wird unter dem graphischen
Editor ein Dateibrowser angezeigt.

Die Darstellung dieser Architekturelemente orientiert sich an
der in \cite{paper} beschriebenen Visualisierung und steht
endgültig am Ende der Iteration II fest. 


%Rollenabhängig wird es auf
%der Architekturelement-Ebene eine farblich hervorgehobene
%Unterscheidung von Elementen geben, für die der aktuelle Benutzer
%nur Leserechte besitzt.


\par {\bf Gerichtete Kanten} stellen Beziehungen mit beliebiger
Bedeutung zwischen Architekturelementen dar. Um komplexere
Beziehungen modellieren zu können, werden sog. Metaknoten
eingeführt, die mehrere eingehende und ausgehende Kanten enthalten
können und logische UND- bzw. ODER-Kompositionen von Beziehungen
erlauben.\par Kanten werden in Form von Linien aus geraden
Segmenten mit einem Pfeil dargestellt und können nach
Beziehungstyp beliebig eingefärbt werden. Das genaue Aussehen wird
durch die Implementierung am Ende der Iteration II festgelegt,
orientiert sich jedoch an \cite{paper}.\par {\bf Metaknoten} werden
als viereckige Symbole dargestellt und mit UND- oder ODER-Symbolen 
beschriftet.\par Der Architektureditor 
bietet die Möglichkeit, verschiedene Zoomstufen einzustellen, auch
wenn dadurch nur noch ein Ausschnitt der Gesamtarchitektur
sichtbar ist.\par Um den Überblick über komplexe
Software-Architekturen zu erleichtern, stellt eine Minimap die
verkleinerte Ansicht der Gesamtarchitektur zur Verfügung, über die
auch in der Graphendarstellung navigiert werden kann.\par

\subsubsection{Verwaltung von Architekturen}
Architekturen von Produktlinien oder Produkten können durch die
Interaktion mit der Maus über Kontextmenüs bzw. Symbolleisten
verändert werden.\par Zu {\bf Veränderungen} von Architekturen
zählen:
\begin{itemize}
\item Drag\&Drop von Architekturelementen und Beziehungen
\item Ändern von Eigenschaften der Architekturelemente oder Beziehungen
über einen Einstellungsdialog
\item Hinzufügen/Entfernen von Architekturelementen und Beziehungen
%\item Filtern von Architekturelementen und Beziehungen
%\item Aufklappen von Architekturelementen
%\item Detailansicht von Architekturelementen
\end{itemize}

%Darüber hinaus können Unterschiede und Gemeinsamkeiten zwischen
%zwei oder mehr geöffneten Architektureditor durch einen
%Algorithmus zur Schnittgraphgenerierung sichtbar gemacht werden.
%Dabei wird der generierte Schnittgraph in einem neuen Editorfenster
%dargestellt.\par 

Es gibt die Möglichkeit, über ein Kontextmenü oder
eine Tastenkombination die Eigenschaften des ausgewählten Knotens
anzuzeigen. Zu diesen Eigenschaften gehören die Metainformationen
des Knotens wie z.B. die Liste der schreibberechtigten Benutzer.
Näheres zu Metainformationen ist im Abschnitt zur
Metainformationskomponente beschrieben.
\newpage

\subsection{Die Minimap}
Am linken unteren Rand der Ausgangsperspektive wird eine sogenannte
Minimap dargestellt, in der ein Überblick über die ganze Architekturansicht
des aktuellen Projektes gegeben wird.\par
Über die Minimap lässt sich im Architektureditor navigieren.
Klickt man auf einen Bereich der Minimap,
so wird dieser automatisch im Produktlinienarchtiktureditor zentriert.

\subsection{Rollen View}
Auf der linken Seite der Ausgangsperspektive wird ein
hierarchischer Baum angezeigt, der das momentan aktive Projekt und
die mit ihm verbundenen möglichen Sichten darstellt.
\begin{figure}[h!]
\includegraphics[width=7cm]{../handbuch/roletree.png}
   \caption{Darstellung der Rollen View}
\end{figure}
Die Hierarchie ist aus der Darstellung ersichtlich. Projekte bestehen aus
einer Produktlinie und den dazu gehörenden Produkten, die sich wiederum in
Komponenten bzw. Varianten untergliedern, welche sich ihrerseits
in Dateien bzw. Verzeichnisse weiter untergliedern lassen. Mit
Ausnahme der Querbeziehungen im
Architektureditor sind die jeweils dargestelten Architekturen
äquivalent.\par

%Ausgehend von den Rollen der Rollen View werden in
%den folgenden Abschnitten die rollenabhängigen Ansichten auf die
%Produktlinien- bzw. Produktarchitektur im bereits
%beschriebenen Architektureditor spezifiziert.
%Die grafische Notation orientiert sich dabei an der in \cite{paper} festgelegten
%Struktur.
%\pagebreak

%\subsubsection{Ansicht der Rolle Produktlinieningenieur}
%Der Produktlinieningenieur hat im Architektureditor
%standardmäßig eine Ansicht auf die Architektur der gesamten
%Produktlinie, die sich grafisch sehr stark an die in \cite{paper}
%vorgeschlagene Notation anlehnt. Er hat Schreibrechte auf allen
%Ebenen der Produktlinie und der daraus instanziierten
%Produkthierarchie.
%\begin{figure}[h!]
%\includegraphics[width=15cm]{compiler-spl}
%   \caption{Ansicht des Produktlinieningenieurs}
%\end{figure}
%\pagebreak

%\subsubsection{Ansicht der Rolle eines Produktingenieurs}
%Der Produktingenieur kann im Architektureditor
%standardmäßig genau ein Produkt gleichzeitig einsehen. Er
%kann in der Rollen View die Architekturen der ihm zugeordneten
%verschiedenen Produkte zur Darstellung
%auswählen. Graphisch wird sich \product hier an der
%graphischen Darstellung aus \cite{paper} orientieren.
%\begin{figure}[h!]
%\includegraphics[width=15cm]{compiler-pe}
%   \caption{Ansicht des Produktingenieurs}
%\end{figure}
%\newpage

%\subsubsection{Ansicht der Rolle eines Programmierers}
%Der Programmierer hat standardmäßig eine sehr flache Sicht auf ein
%einziges ihm zugeordnetes Produkt.\par Es besteht die Möglichkeit,
%den aktuellen Stand des Produktes mit seiner aktuellen
%Arbeitskopie zu synchronisieren.
%\begin{figure}[h!]
%\includegraphics[width=15cm]{compiler-p}
%   \caption{Ansicht des Programmierers}
%\end{figure}

\subsection{Worklflow/Task View}
Am unteren Rand der Ausgangsperspektive werden standardmässig die
noch zu erfüllenden Aufgaben, die aktuellen Nachrichten sowie
etwaige Workflows angezeigt.\par Durch Doppelklick auf einen
Workflow, öffnet sich die jeweilige Detailansicht. 
