\chapter{Funktionale Anforderungen}
\section{Iteration I}
\subsection{Der Kobold Client}
Der Client basiert grundlegend auf der Eclipse Plattform und deren Standard Widgettoolkit (SWT) und ist
dadurch von dessen nativer Schnittstelle abhängig. 
Er wird als 'Feature-Set' implementiert und mit einem 'Product Branding' versehen.
'Product Branding' umfasst die Änderung der Fensternamen und der Produktsymbole, sowie
eine Willkommensseite, die einen kurzen Überblick über Funktionalität und Zweck des Kobold Tools geben soll.

Das 'Feature-Set' wird als Set von internationalisierbaren Eclipse Plugins implementiert.
Die Ausgangsperspektive dieses Sets besteht aus 4 Teilen:
\begin{itemize}
	\item Der Produktlinienarchitektur Editor
	\item Die Rollen View
	\item Die Worklflow/Task View
	\item Die Minimap
\end{itemize}
Diese werden in den jeweiligen Unterkapiteln näher beschrieben.
Um das Rollenprinzip konsistent durchzusetzen, ist eine zentrale Anmeldung am Kobold Serverdienst nötig.\par
Die Oberfläche des Kobold-Clients wird in der nachfolgenden Abbildung prototypisch dargestellt.

 \begin{figure}[ht]
\includegraphics[width=15cm]{../angebot/screenshot.png}
   \caption{Screenshot des Client-Prototypen}
\end{figure}

\subsubsection{Authentifizierung}
Die Authentifizierung am Server ist RPC-basiert. Der Benutzer kann bei der Erstbenutzung des 
Clients wählen, ob er sich bei jedem Programmstart authentifiziern will oder ob das Passwort
und der Benutzername gespeichert werden sollen. Prinzipiell ist ein Ändern von Daten im nichtauthentifizierten
Zustand nicht möglich. Mit der Authentifizierung werden die Rollen, die dem Benutzer zugeteilt sind,
an den Client übergeben; der Client reagiert seinerseits mit dem Bereitstellen der relevanten Views für den Benutzer.

\subsubsection{Der Produktlinienarchitektur Editor}
In diesem View wird die je nach aktiver Rolle relevante Ansicht auf die Architektur der Produktlinie
angezeigt. Der Editor bietet die Möglichkeit Grundlegenden Operationen die für die Erstellung einer Produktlinienarchitektur nötig sind durchzuführen.
Konkret bedeutet dies, es besteht die Möglichkeit neue Komponenten zu erstellen. Sobald eine Komponente existiert können ihr Varianten hinzugefügt werden.
Zwischen einzelnen Architekturelementen können Beziehungen in Form von Kanten erstellt werden. Grundsätzlich hat eine Kante
einen Anfangs- und einen Ausgangsknoten. Um komplexere Beziehungen modellieren zu können werden Meta-Knoten benutzt die mehrere
eingehende und mehrere ausgehende Kanten haben können. Sie haben einen Typ der graphisch durch das mit der Beziehung korrespondierende
logische Symbol in einem Kreis dargestellt wird.
Die View bietet die Möglichkeit, verschiedene Zoomstufen einzustellen. Eine mögliche Folge daraus ist,
dass im aktuellen Ausschnitt möglicherweise nicht die ganze Architektur zu sehen ist.\par
Der Benutzer kann im Editor außerdem zwei Architekturen überlappen und in diesem Schnittgraphen deren Gemeinsamkeiten
und Unterschiede graphisch sichtbar machen. 
Um trotzdem den Überblick zu gewährleisten, wird eine Minimap zur Verfügung gestellt, die eine navigierbare Miniaturansicht der aktiven Architektur
anzeigt.\par %Todo Navigation über Kontextmenü und Symbolleiste?! einfügen (Sehr komische vorstellung)
Es gibt die Möglichkeit über ein Kontextmenü oder eine Tastenkombination die Eigenschaften des ausgewählten Knotens anzuzeigen.
Zu diesen Eigenschaften gehören die Metainformaionen des Knotens und eine Liste der schreibberechtigten Benutzer.
Komponenten für die der Benutzer keine Schreibrechte hat werden schwächer gezeichnet.

In den folgenden Abschnitten  werden die 3 verschiedenen Ansichten auf die Produktlinien- bzw. Produktarchitektur beschrieben.
Die grafische Notation orientiert sich dabei an der in dem Paper \cite{paper} festgelegten Struktur.
\paragraph{Ansicht der Rolle Produktlinieningenieur}
Der Produktlinieningenieur hat standardmäßig eine Ansicht auf die Architektur der gesamten Produktlinie, die
sich grafisch sehr stark an die vom Paper \cite{paper} vorgeschlagene Ansicht lehnt. Es gibt die Möglichkeit, 
bestimmte Beziehungen farblich hervorzuheben, bzw. in späteren Iterationen auch automatisch
hervorheben zu lassen. Grundsätzlich kann die Farbe von Archtikturelementen gewählt werden. 
Einige Farben werden aber Konflikten und ähnlichen Beziehungen vorbehalten.
\begin{figure}[ht]
\includegraphics[width=15cm]{compiler-spl}
   \caption{Ansicht des Produktlinieningenieurs}
\end{figure}
\paragraph{Ansicht der Rolle eines Produktingenieurs}
Der Produktingenieur kann in dem Produktlinienarchitektur Editor standardmäßig ein Produkt auf einmal einsehen.
Er kann im Rollen View die verschiedenen ihm zugeordneten Produktarchitekturen der
verschiedenen Produkte zur Darstellung auswählen. Grafisch wird sich Kobold hier wiederum
an der graphischen Darstellung im Paper \cite{paper} orientieren.
\begin{figure}[ht]
\includegraphics[width=15cm]{compiler-pe}
   \caption{Ansicht des Produktingenieurs}
\end{figure}
\paragraph{Ansicht der Rolle eines Programmierers}
Der Programmierer hat standardmäßig eine sehr flache Sicht auf ein einziges ihm zugeordnetes Produkt.
Er kann die für ihn änderbaren Produktteile des Produktes von den nicht änderbaren unterscheiden.
Es besteht die Möglichkeit, den aktuellen Stand des Produktes in seinen aktuellen "Workspace"
auszuchecken.
\begin{figure}[ht]
\includegraphics[width=15cm]{compiler-p}
   \caption{Ansicht des Programmierers}
\end{figure}

\subsubsection{Der Rollen View}
Auf der linken Seite der Ausgangsperspektive wird ein hierarchischer Baum angezeigt, der
die momentan aktive Rolle und die mit Ihr verbundenen möglichen Sichten darstellt.
\begin{figure}[htb]
\includegraphics[width=15cm]{../angebot/praesentation/verwaltung}
   \caption{Prototypistische Darstellung des Rollen Views}
\end{figure}

\subsubsection{Der Worklflow/Task View}
Am unteren Rand der Ausgangsperspektive werden standardmässig die noch zu erfüllenden
Aufgaben, die aktuellen Nachrichten oder etwaige Konflikte und ähnliches angezeigt.\par
Durch Doppelklick auf eine Nachricht, öffnet sich die Detailansicht im Produktlinienarchitektur Editor.
Dabei können auch Detailansichten zu mehreren Nachrichten geöffnet sein.

\subsubsection{Die Minimap}
Am rechten unteren Rand der Ausgangsperspektive wird eine sogenannte Minimap angezeigt,
in der ein Überblick über die ganze Architekturansicht der aktuellen Rolle gegeben wird.\par
Über die Minimap lässt sich außerdem die Produktlinienarchitektur Editor navigieren. Klickt man in einen Bereich der Minimap,
so wird dieser automatisch im Produktlinienarchtiktur Editor zentriert.